# AWS コスト可視化ツール - 操作マニュアル

## 🎯 概要
複数のAWSアカウントのコスト分析をシンプルに行える可視化ツールです。

## 🔒 プライバシー・セキュリティについて

### データの安全性
**重要**: このツールは完全にローカル環境で動作します

- ✅ **ローカル処理のみ**: アップロードしたCSVファイルはブラウザ内でのみ処理
- ✅ **外部送信なし**: データがインターネット上に送信されることは一切ありません
- ✅ **サーバー不要**: 外部サーバーやクラウドサービスを使用しません
- ✅ **一時保存のみ**: データはブラウザのsessionStorageに一時保存（ブラウザ終了で消去）

### データの保持と削除
- **保存場所**: ブラウザのsessionStorage（メモリ内のみ）
- **保持期間**: ブラウザタブが開いている間のみ
- **自動削除**: ブラウザタブを閉じると自動的にデータが削除
- **手動削除**: 「全て削除」ボタンでいつでも即座にデータクリア可能

### 第三者へのデータ提供
- ❌ データの外部送信: 一切行いません
- ❌ データの保存: ローカル以外に保存しません  
- ❌ データの転用: 分析以外の目的での使用はありません
- ❌ ログ送信: 使用状況や分析結果の外部送信はありません

**安心してご利用ください**: あなたのAWSコストデータは完全にあなたのコンピューター内でのみ処理され、外部に出ることはありません。

---

## 🚀 開始方法

### 1. アプリケーション起動
**サーバー不要** - HTMLファイルをブラウザで直接開いてください

#### 方法1: ファイルを直接開く
1. プロジェクトフォルダの `index.html` をダブルクリック
2. または、ブラウザにファイルをドラッグ&ドロップ

#### 方法2: ブラウザのアドレスバーから
```
file:///[プロジェクトの絶対パス]/index.html
```

**例**:
- Windows: `file:///C:/work/GitHub/aws-simple-cost-insight/index.html`
- Mac/Linux: `file:///Users/username/projects/aws-simple-cost-insight/index.html`

### 2. 動作確認
- ページタイトル「AWS コスト可視化ツール」が表示される
- アカウント登録フォームが表示される
- コンソール（F12）に「AWS Cost Insight Tool initialized」ログが出力される

---

## 📋 操作手順

### Step 1: コストデータ登録

#### 1.1 CSVファイル取得方法
「CSVファイルの取得方法 ℹ️」リンクをクリックして詳細手順を確認：
1. **AWSマネジメントコンソール**にログイン
2. **Cost Explorer** > **新しいコストと使用状況レポート**を開く
3. **レポートパラメータ**をクリックし、粒度=月別、ディメンション=サービスであることを確認
4. **CSV形式でダウンロード**してファイルを取得

#### 1.2 新規コストデータ追加
1. **アカウント名（任意）を入力**
   - 例: `dev`, `prod`, `staging`, `test-env` など
   - 任意の名前で設定可能

2. **CSVファイルを選択**
   - 「📁 ファイル選択」ボタンをクリック
   - AWSコストデータのCSVファイルを選択

3. **アカウントを追加**
   - 「アカウントを追加」ボタンをクリック
   - 登録完了後、選択したファイル名がクリアされます

#### 1.3 複数アカウント登録
- 上記手順を繰り返して複数アカウントを登録
- 登録済みアカウントは「登録済みアカウント」セクションに表示

#### 1.4 登録済みアカウント管理
- **表示**: 各アカウントの名前とファイル情報を確認
- **削除**: 個別アカウントの「削除」ボタンで除去
- **全削除**: 「全て削除」ボタンで全アカウントクリア

### Step 2: データ分析開始
1. **分析開始**
   - 複数アカウント登録後、「データ分析開始」ボタンをクリック
   - データ処理が開始され、下記セクションが表示されます：
     - 📊 **データ概要**: 総コスト、期間、前月比等の統計情報
     - 📈 **グラフ表示**: 4種類のチャートによる可視化
     - 📋 **分析結果**: 未使用・低使用・高コストサービス分析

### Step 3: データ概要の確認
データ分析開始後、画面上部に以下の概要が表示されます：

1. **読み込み済みアカウント**: 登録したアカウント数（例：2アカウント）
2. **総コスト**: 全アカウント・全期間の合計コスト（例：$1,770.55）
3. **対象期間**: データの期間範囲（例：2025-01-01 〜 2025-06-01）
4. **前月比**: 前月からの変化率（例：-11.8%）

### Step 4: グラフによるデータ可視化

#### 4.1 月次コスト推移グラフ
- **表示切替**: 「アカウント別」「全体合計」のラジオボタンで切替
- **アカウント別**: 各アカウントの月次推移を線グラフで表示
- **全体合計**: 全アカウント合計の月次推移を線グラフで表示
- **活用方法**: 月次トレンド分析、季節性の把握

#### 4.2 サービス別コスト比較
- **表示切替**: ドロップダウンで「最新月」「全期間合計」を選択
- **最新月**: 直近月のサービス別コストを棒グラフで比較
- **全期間合計**: 全期間でのサービス別コスト合計を比較
- **活用方法**: 高コストサービスの特定、サービス別予算配分の検討

#### 4.3 **🆕 月次サービス別積み上げグラフ**
最新追加機能として、月次でのサービス別コスト推移を積み上げ棒グラフで表示：

**設定項目**:
- **アカウント選択**: 
  - 「全アカウント」: 全アカウントのサービス別コストを集約表示
  - 個別アカウント（例：「dev」「staging」）: 選択したアカウントのみ表示
- **表示サービス数**: 
  - 上位3サービス: トップ3 + その他
  - 上位5サービス（デフォルト）: トップ5 + その他
  - 上位7サービス: トップ7 + その他  
  - 上位10サービス: トップ10 + その他

**グラフの見方**:
- **X軸**: 月次（例：1月1日、2月1日...）
- **Y軸**: コスト（$）
- **色分け**: サービス別に色分けされた積み上げ表示
- **凡例**: 下部にサービス名と色の対応を表示
- **その他**: 選択したサービス数を超える残りサービスを「その他」として集約

**活用シナリオ**:
- 月次でのサービス利用変化の把握
- 特定サービスの成長・縮小トレンド分析
- アカウント別のサービス利用パターン比較
- コスト削減対象サービスの優先度決定

#### 4.4 **🆕 アカウント間構成比比較（最新月）- 100%積み上げ棒グラフ**
複数アカウント登録時に表示される新機能として、全アカウントの構成比を一目で比較可能：

**設定項目**:
- **表示サービス数**: 
  - 上位3サービス: トップ3 + その他
  - 上位5サービス（デフォルト）: トップ5 + その他
  - 上位7サービス: トップ7 + その他  
  - 上位10サービス: トップ10 + その他

**グラフの見方**:
- **チャート形式**: 100%積み上げ棒グラフで全アカウント + 全体合計を並列比較表示
- **X軸**: 各アカウント名と総コスト + 最右端に「全体合計」（例：「dev $1,234」「全体合計 $5,678」）
- **Y軸**: 構成比（0-100%）
- **データ基準**: 各アカウントの最新月コストデータ
- **構成比表示**: 各アカウントの棒グラフで各サービスの割合を可視化
- **全体合計棒グラフ**: 最右端に全アカウント合算での構成比を表示
- **総コスト表示**: X軸ラベルに各アカウントと全体の総コストを併記
- **統一設定**: 全アカウント + 全体合計で同じ表示サービス数設定を適用
- **色分け**: サービス別に統一色で表示、「その他」はグレー
- **凡例**: 画面下部にサービス名と色の対応を表示
- **詳細ツールチップ**: ホバー時に構成比（%）と実際のコスト（$）の両方を表示

**視認性の改善**:
- **一画面表示**: 複数の円グラフから単一の棒グラフに変更で視認性向上
- **比較容易**: 同じサービスを縦方向で比較しやすい設計
- **スケーラビリティ**: アカウント数が増えても見やすさを維持

**サービス選択アルゴリズム**:
- **環境特性重視**: 各アカウントの上位サービスを統合して表示対象を決定
- **統合方式**: アカウント数に応じて各環境から重要サービスを抽出
- **公平性確保**: 小規模環境の重要サービスも大規模環境に埋没せず表示
- **例**: 3アカウント・上位5表示時→各アカウント上位2サービス統合→全体上位5選択

**活用シナリオ**:
- **構成比とコスト規模の同時分析**: 構成比の違いと実際のコスト規模を一つのグラフで把握
- **アカウント間 vs 全体比較**: 個別アカウントの構成比と組織全体の構成比を並列で比較
- **環境固有サービスの可視化**: 各環境で重要なサービスが適切に表示される
- **標準化機会の発見**: 環境特性を反映したサービス構成比から標準化対象を特定
- **最適化対象の優先度決定**: 環境別重要度も考慮した最適化着手順序の決定
- **アーキテクチャ比較**: 各環境の特性と組織全体の傾向を公平に比較
- **予算計画策定**: 環境特性と組織全体のサービス利用傾向を踏まえた予算計画
- **コスト配分分析**: 環境固有の重要サービスも含めた包括的なコスト寄与度分析

#### 4.5 前月比増減率テーブル
- **表形式**: アカウント、現在のコスト、前月比、トレンドを表示
- **視覚的表示**: 
  - 📉 減少トレンド（マイナス値）
  - 📈 増加トレンド（プラス値）
- **活用方法**: アカウント別コスト変化の把握、急激な変化の検知

### Step 5: 分析結果の活用

#### 5.1 未使用サービス特定
- **自動検出**: $0のサービスを自動で特定
- **表示形式**: 「未使用サービスはありません」または具体的なサービス名リスト
- **削減アクション**: 未使用リソースの削除検討

#### 5.2 低使用サービス検出
- **閾値設定**: デフォルト$0.01、リアルタイム変更可能
- **設定方法**: 数値入力フィールドで任意の金額を設定
- **表示更新**: 設定変更と同時に結果が更新
- **活用例**: 閾値$50設定時「閾値 $50.00 以下のサービスはありません」

#### 5.3 高コストサービス分析
- **自動ランキング**: コスト順にトップ5サービスを表示
- **表示形式**: リスト形式でサービス名と金額を表示
- **例**: 
  ```
  S3: $527.9000
  EC2: $424.0200
  Lambda: $331.2900
  CloudWatch: $241.2300
  Relational Database Service: $156.9000
  ```

#### 5.4 **🆕 アカウント別削減効果比較**
シンプルな月単位比較でアカウント別の削減効果を分析：

**簡潔な操作方法**:
- **ベース月選択**: 比較のベースとなる月を選択
- **対象月選択**: 比較対象となる月を選択
- **比較実行**: 「比較実行」ボタンをクリックして結果表示

**デフォルト設定**:
- **自動設定**: データ読み込み時に前月比較が自動設定
- **ベース月**: 最新月の1つ前の月（例：2025年05月）
- **対象月**: 最新月（例：2025年06月）

**表示内容**:
- **テーブル形式**: アカウント、ベース期間コスト、対象期間コスト、差額、変化率、効果評価
- **削減効果アイコン**:
  - 🎯 大幅削減（25%以上）
  - ✅ 効果的削減（5-25%）
  - 📈 コスト増加

**活用例**（2025年05月→06月比較）:
```
dev: $113 → $87 (-$26, -23.4%) 🎯
prod: $902 → $699 (-$203, -22.5%) 🎯
```

**月別比較の操作手順**:
1. **ベース月**: ドロップダウンから比較基準となる月を選択
2. **対象月**: ドロップダウンから比較対象となる月を選択
3. **比較実行**: 「比較実行」ボタンをクリックして分析結果を表示
4. **結果確認**:
   - 期間ラベル付きテーブル表示（ベース期間コスト vs 対象期間コスト）
   - 差額と変化率の詳細分析

**活用シナリオ**:
- **任意期間比較**: 四半期・半期などの特定期間での効果測定
- **プロジェクト効果測定**: 最適化プロジェクト前後の期間比較
- **季節変動分析**: 同じ月同士での年次比較
- **改善活動評価**: 特定施策実施前後の期間比較

#### 5.5 **🆕 アカウント別コスト推移 + 上位サービス別詳細**
**デフォルト**: 全アカウントのコスト推移と上位サービス詳細を統合表示：

**設定方法**:
1. **対象アカウント**: デフォルト「全アカウント」（個別選択も可能）
2. **表示サービス数**: 上位3/5/7/10サービスから選択

**グラフ表示（全アカウントモード）**:
- **太い実線**: 各アカウントの総コスト推移（カラー別）
- **太い破線**: 全体合計コスト推移（青色・破線）
- **細い線**: 上位サービス別の詳細推移（全アカウント集約）
- **細い破線**: 「その他」サービスの合計

**グラフ表示（単一アカウントモード）**:
- **太い実線**: そのアカウントの上位サービス別推移（より見やすく強調表示）
- **破線**: 「その他」サービスの合計推移
- **動的タイトル**: 「[アカウント名] アカウント - サービス別コスト推移」
- **改善点**: アカウント合計線を非表示にしてサービス内訳を見やすく改善

**凡例表示順**:
1. **個別サービス**: コスト順で表示（太い線で強調）
2. **その他**: 最下部に破線で表示

**ツールチップ機能**:
- 各データポイントをホバーすると詳細情報表示
- **金額表示**: サービス別の正確な金額
- **構成比表示**: 総コストに対する各サービスの割合（%）

**活用例**:
```
test-dev アカウント分析時：
- EC2: $45.23 (42.1%)
- S3: $25.67 (23.9%)
- Lambda: $18.45 (17.2%)
- CloudWatch: $12.34 (11.5%)
- その他: $5.67 (5.3%)
総計: $107.36
```

**利用シーン**:
- 特定アカウントの詳細コスト分析
- サービス別の成長・縮小パターン把握
- 月次変化でのサービス利用傾向分析
- 全体コストと個別サービスの同時比較

#### 5.6 **🆕 統計的期間分析**
複数期間の統計的比較分析による詳細なコスト傾向分析：

**設定方法**:
1. **分析対象**: 「全アカウント合計」または個別アカウントを選択
2. **ベース期間**: 開始月・終了月を設定（例：2025-01〜2025-04）
3. **比較対象期間**: 開始月・終了月を設定（例：2025-02〜2025-05）
4. **実行**: 「統計分析実行」ボタンをクリック

**分析内容**:
- **統計指標**: 平均値・標準偏差・最小値・最大値・期間長
- **期間別比較**: ベース期間vs比較対象期間の詳細比較
- **可視化**: コスト推移チャート + 期間平均線表示
- **実際期間表示**: 指定期間と実際に使用された期間を明示

**重要な改善点**:
- ✅ **包含的期間計算**: 指定した開始月〜終了月の全ての月を正確に含む
- ✅ **期間表示の透明性**: 実際に分析に使用された期間長を明確に表示
- ✅ **チャート連動**: 統計結果とチャートの点線表示範囲が完全一致


### Step 6: 継続的な活用方法

#### 6.1 定期的なデータ更新
- **推奨頻度**: 月次での更新
- **手順**: 新しい月のCSVデータで既存アカウントを再登録
- **比較分析**: 前回データとの比較で改善効果を測定

#### 6.2 削減アクションプラン策定
1. **高コストサービス**: 上位サービスでの最適化検討
2. **未使用リソース**: 即座の削除実行
3. **低使用リソース**: 利用実態確認後の削除・スケールダウン検討
4. **アカウント別**: 削減効果の低いアカウントでの重点対策

#### 6.3 効果測定サイクル
1. **基準データ作成**: 初回分析結果を基準として保存
2. **月次モニタリング**: 積み上げグラフでの推移確認
3. **削減効果測定**: 比較分析機能での効果検証
4. **継続改善**: 結果に基づく次期アクションプラン策定

---

## 📊 機能一覧

### ✅ 実装済み機能

#### コストデータ管理
- [x] アカウント名（任意）手動入力
- [x] CSVファイルアップロード
- [x] 登録済みアカウント一覧表示
- [x] 個別アカウント削除
- [x] 全アカウント削除
- [x] ファイル選択状態表示
- [x] CSVファイル取得方法ガイド
- [x] 対話型ガイド表示機能

#### データ処理
- [x] CSV解析・パース
- [x] データ変換・正規化
- [x] 複数アカウントデータ集約
- [x] エラーハンドリング
- [x] 異常データ処理

#### UI/UX
- [x] レスポンシブデザイン
- [x] モバイル対応
- [x] 直感的な操作フロー
- [x] リアルタイム状態更新

### 🚧 実装予定機能

#### データ可視化
- [x] 月次コスト推移グラフ（アカウント別/全体）
- [x] サービス別コスト比較（棒グラフ）
- [x] 前月比増減率表示
- [x] サービス別構成比（円グラフ）
- [x] **月次サービス別積み上げグラフ**（設定可能なサービス数・アカウント選択）

#### 分析機能
- [x] 未使用サービス特定
- [x] 低使用サービス検出（設定可能な閾値）
- [x] 高コストサービス特定
- [x] アカウント別削減効果比較

#### データ概要表示
- [x] 総コスト表示
- [x] 対象期間表示
- [x] 前月比変化率
- [x] アカウント数表示

---

## 📁 対応CSVファイル形式

### 📋 CSVファイル取得方法（AWSコストエクスプローラー）
1. **AWSマネジメントコンソール**にログイン
2. **Cost Explorer** > **新しいコストと使用状況レポート**を開く
3. **レポートパラメータ**をクリックしてメニューを開き、以下設定を確認:
   - **粒度**: 月別（デフォルト - 変更不要）
   - **ディメンション**: サービス（デフォルト - 変更不要）
   - **期間**: 分析したい期間を選択（推奨：6ヶ月以上）
4. **CSV形式でダウンロード**してファイルを取得

### 必須列
```csv
"サービス","合計コスト($)"
```

### 🔍 対応ファイル形式の詳細

#### 形式1: 基本形式（最小要件）
```csv
"サービス","合計コスト($)"
"サービス の合計","680.6500"
"2025-01-01","117.1000"
"2025-02-01","113.2000"
"2025-03-01","121.8000"
"2025-04-01","135.5000"
"2025-05-01","106.3000"
"2025-06-01","86.7500"
```

#### 形式2: サービス別詳細形式（推奨）
```csv
"サービス","S3($)","CloudWatch($)","Lambda($)","EC2($)","RDS($)","合計コスト($)"
"サービス の合計","210.5000","91.3000","134.7000","169.8000","74.3000","680.6500"
"2025-01-01","28.5000","15.2000","22.4000","25.8000","25.2000","117.1000"
"2025-02-01","29.1000","14.8000","21.9000","23.4000","24.0000","113.2000"
"2025-03-01","31.2000","15.5000","23.1000","27.2000","24.8000","121.8000"
"2025-04-01","35.8000","16.9000","24.3000","33.1000","25.4000","135.5000"
"2025-05-01","33.4000","14.2000","22.1000","23.8000","12.8000","106.3000"
"2025-06-01","29.5000","14.7000","20.9000","12.5000","9.1000","86.7500"
```

#### 形式3: 多サービス対応形式
```csv
"サービス","S3($)","EC2($)","Lambda($)","CloudWatch($)","RDS($)","ELB($)","Route53($)","CloudFront($)","合計コスト($)"
"サービス の合計","210.5","169.8","134.7","91.3","74.3","45.2","12.8","8.9","747.5"
...（月次データ）
```

### 📋 データ要件

#### 必須要素
- ✅ **サマリー行**: 「サービス の合計」を含む行（全期間の合計値）
- ✅ **日付行**: YYYY-MM-DD形式の月次データ行（複数行）
- ✅ **サービス列**: 「サービス」列（必須）
- ✅ **合計コスト列**: 「合計コスト($)」列（必須）

#### オプション要素
- 🔧 **個別サービス列**: 「S3($)」「EC2($)」など個別サービス別データ
- 🔧 **追加サービス**: 任意のAWSサービス列を追加可能

#### データ形式
- **数値データ**: 小数点形式（例：123.4567）
- **文字列数値**: 引用符付き数値も対応（例："123.45"）
- **サービス名**: 日本語・英語対応（例：「S3」「Relational Database Service」）
- **日付形式**: YYYY-MM-DD（例：2025-01-01）

### 🎯 最適な利用のための推奨事項

#### ファイル準備のベストプラクティス
1. **期間設定**: 最低3ヶ月、推奨6ヶ月以上のデータ
2. **サービス詳細**: 個別サービス列を含む形式（積み上げグラフ活用のため）
3. **アカウント別取得**: 環境ごと（dev/staging/prod）に個別ファイル作成
4. **定期更新**: 月次での新しいデータ取得・分析

#### ファイル命名規則（推奨）
```
costs-dev-2025Q1.csv      # 開発環境・2025年第1四半期
costs-staging-202501.csv  # ステージング環境・2025年1月
costs-prod-latest.csv     # 本番環境・最新データ
```

### 🔍 ファイル内容検証チェックリスト
アップロード前に以下を確認：
- [ ] 「サービス の合計」行が存在する
- [ ] 月次データ行が複数存在する（最低2行以上）
- [ ] 「サービス」列と「合計コスト($)」列が存在する
- [ ] 数値データが正しい形式（小数点数値）
- [ ] 日付が YYYY-MM-DD 形式
- [ ] ファイル拡張子が .csv
- [ ] ファイルサイズが適切（推奨: 1MB未満）

---

## 🔧 トラブルシューティング

### よくある問題

#### 1. CSVファイルが読み込めない
**症状**: ファイル選択後にエラーが表示される
**対処法**: 
- ファイル形式がCSVかつ`.csv`拡張子であることを確認
- ファイルサイズが適切であることを確認
- 必須列（「サービス」「合計コスト($)」）が存在することを確認

#### 2. アカウント名が入力できない
**症状**: アカウント名入力フィールドが無効
**対処法**:
- ページを再読み込み
- ブラウザキャッシュをクリア

#### 3. 「アカウントを追加」ボタンが押せない
**症状**: ボタンがグレーアウトしている
**対処法**:
- アカウント名が入力されていることを確認
- CSVファイルが選択されていることを確認
- 同名のアカウントが既に登録されていないか確認

#### 4. 「データ分析開始」ボタンが押せない
**症状**: ボタンがグレーアウトしている
**対処法**:
- 少なくとも1つのアカウントが登録されていることを確認
- 登録したCSVファイルが正しい形式であることを確認

#### 5. 積み上げグラフが表示されない
**症状**: 月次サービス別積み上げグラフエリアが空白
**対処法**:
- ブラウザの開発者ツール（F12）でコンソールエラーを確認
- Chart.jsライブラリが正常に読み込まれているか確認
- ページを再読み込み後、再度「データ分析開始」を実行

#### 6. グラフの設定変更が反映されない
**症状**: サービス数やアカウント選択を変更してもグラフが更新されない
**対処法**:
- 設定変更後、数秒待ってから確認
- ブラウザキャッシュをクリアして再読み込み
- 別のアカウントや設定で動作確認

#### 7. 期間指定比較が実行できない
**症状**: 「期間比較実行」ボタンがグレーアウト
**対処法**:
- 開始月・終了月の両方が入力されていることを確認
- 開始月が終了月より前の日付であることを確認
- 入力した期間にデータが存在することを確認

### エラーメッセージ対応

#### "Invalid CSV string provided"
- **原因**: ファイルが空または破損している
- **対処**: 別のCSVファイルを試すか、ファイルを再取得

#### "Summary row not found in CSV data"
- **原因**: 「サービス の合計」行が見つからない
- **対処**: CSVファイルの1行目が正しい形式であることを確認

#### "CSV must contain at least header and one data row"
- **原因**: CSVファイルにデータが不足している
- **対処**: ヘッダー行とデータ行の両方が存在することを確認

#### "Cannot read properties of undefined"
- **原因**: データ処理中の予期しないエラー
- **対処**: ページ再読み込み後、再度データを登録

#### チャート描画エラー
- **症状**: グラフが表示されずエラーメッセージが表示
- **原因**: Chart.jsライブラリの問題またはデータ形式の問題
- **対処**: 
  1. ブラウザの互換性確認（Chrome、Firefox、Safari推奨）
  2. JavaScript有効化の確認
  3. アドブロッカーの無効化

### 🖥️ ブラウザ互換性

#### 推奨ブラウザ
- ✅ **Google Chrome 90+**
- ✅ **Mozilla Firefox 88+** 
- ✅ **Safari 14+**
- ✅ **Microsoft Edge 90+**

#### 非対応ブラウザ
- ❌ Internet Explorer（全バージョン）
- ❌ 古いバージョンのブラウザ

#### 必要な設定
- ✅ JavaScript有効
- ✅ ローカルファイルアクセス許可（file://の場合）
- ✅ クッキー有効（sessionStorage使用）

---

## 💡 使用のコツ

### 🎯 効率的な分析ワークフロー

#### 初回分析時
1. **アカウント体系の整理**: 環境ごとに一貫したネーミング（dev, staging, prod）
2. **ベースライン作成**: 初回分析結果をスクリーンショット等で保存
3. **削減目標設定**: 高コストサービスと削減目標率を設定

#### 定期分析時（推奨：月次）
1. **データ更新**: 最新月のCSVファイルで再登録
2. **トレンド確認**: 積み上げグラフで月次変化を確認
3. **効果測定**: 削減効果比較で改善効果を定量評価
4. **次期計画**: 分析結果に基づく次月のアクション決定

### 📊 グラフ活用のベストプラクティス

#### 月次サービス別積み上げグラフ
- **アカウント切替**: 全体トレンド→個別アカウント詳細の順で確認
- **サービス数調整**: 最初は上位5で全体把握、詳細分析時は上位10に拡張
- **季節性分析**: 6ヶ月以上のデータで季節性パターンを把握
- **異常検知**: 急激な変化があるサービス・月を特定

#### サービス別構成比グラフ
- **アカウント比較**: 全アカウント→個別アカウントで構成比の差を分析
- **偏り検証**: 特定サービスへの過度な依存がないかチェック
- **バランス改善**: 高コスト率サービスの最適化優先度決定

#### 削減効果比較分析
- **基準選択戦略**: 
  - 初月比較：長期的な改善効果測定
  - 最高月比較：最大削減ポテンシャル評価
  - 前月比較：直近の改善活動効果測定
  - 期間指定比較：任意期間での柔軟な効果測定

### 🔍 データ準備の最適化

#### AWSコストエクスプローラー設定
1. **時間軸**: 月次単位での取得（日次は詳細すぎ、年次は粗すぎ）
2. **グループ化**: サービス別グループ化を必ず設定
3. **期間設定**: 最低6ヶ月、理想的には12ヶ月分のデータ
4. **フィルター活用**: 必要に応じてリージョンやタグでフィルタリング

#### CSVファイル命名・管理
```
命名例:
aws-costs-prod-2025-Q1.csv       # 本番環境・四半期データ  
aws-costs-dev-202501-202506.csv  # 開発環境・6ヶ月データ
aws-costs-staging-latest.csv     # ステージング・最新データ
```

#### バージョン管理
- **履歴保持**: 過去の分析用CSVファイルも保管
- **変更記録**: データ更新日とバージョンをメモ
- **バックアップ**: 重要な分析結果はスクリーンショットで保存

### 📈 削減アクション策定のガイドライン

#### 優先度マトリクス
| コスト影響 | 実装難易度 | 優先度 | アクション例 |
|------------|------------|--------|--------------|
| 高 | 低 | 🔴 最優先 | 未使用リソース削除 |
| 高 | 中 | 🟡 高優先 | インスタンスサイズ最適化 |
| 高 | 高 | 🟢 中優先 | アーキテクチャ見直し |
| 低 | 低 | 🔵 低優先 | 細かい設定調整 |

#### 段階的アプローチ
1. **Phase 1**: 未使用リソース削除（即効性）
2. **Phase 2**: 低使用リソースのスケールダウン（短期効果）
3. **Phase 3**: 高コストサービスの最適化（中期効果）
4. **Phase 4**: アーキテクチャ全体の見直し（長期効果）

### 🎯 継続的改善のためのKPI設定

#### 測定指標例
- **総コスト削減率**: 月次での削減目標（例：5-10%）
- **アカウント別効率**: 削減効果の均等化目標
- **サービス最適化率**: 上位サービスでの改善率
- **未使用リソース削減**: ゼロ化目標

#### 効果測定サイクル
```
月初: 前月データ取得・分析
月中: 削減アクション実施
月末: 効果測定・次月計画策定
四半期: 全体戦略見直し
```

### 🤝 チーム活用の推奨事項

#### 役割分担例
- **責任者**: 全体戦略・目標設定
- **分析担当**: 月次データ分析・レポート作成
- **実行担当**: 具体的な削減アクション実施
- **確認担当**: 効果測定・検証

#### 共有・報告フォーマット
- **月次サマリー**: 総コスト・削減率・主要変化点
- **詳細分析**: 積み上げグラフ・構成比の変化分析
- **アクションプラン**: 次月の具体的削減施策
- **効果測定**: 前月実施施策の効果検証結果

---

## 📞 サポート

### バグ報告・機能要望
GitHub Issues: https://github.com/bwsunkist/aws-simple-cost-insight/issues

### 開発状況
- **現在の実装進捗**: Phase 2.5完了（高・中優先度機能完成、全体89.8%）
- **次期実装予定**: 統合テスト・最終調整フェーズ

---

## 📄 ライセンス
MIT License

---

*最終更新: 2025-07-21*
*バージョン: 2.5.1 (Phase 2.5完了 - 全機能実装・動作確認済み)*
