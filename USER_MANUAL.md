# AWS コスト可視化ツール - 操作マニュアル

## 🎯 概要
複数のAWSアカウントのコスト削減取り組みの効果測定と削減優先度検討のための可視化ツールです。

---

## 🚀 開始方法

### 1. アプリケーション起動
```bash
# 開発サーバー起動
python -m http.server 8000

# または
npx serve .
```

### 2. ブラウザでアクセス
http://localhost:8000 にアクセス

---

## 📋 操作手順

### Step 1: アカウント登録

#### 1.1 新規アカウント追加
1. **アカウント名を入力**
   - 例: `dev`, `prod`, `staging`, `test-env` など
   - 任意の名前で設定可能

2. **CSVファイルを選択**
   - 「📁 ファイル選択」ボタンをクリック
   - AWSコストデータのCSVファイルを選択

3. **アカウントを追加**
   - 「アカウントを追加」ボタンをクリック
   - 登録完了後、選択したファイル名がクリアされます

#### 1.2 複数アカウント登録
- 上記手順を繰り返して複数アカウントを登録
- 登録済みアカウントは「登録済みアカウント」セクションに表示

#### 1.3 登録済みアカウント管理
- **表示**: 各アカウントの名前とファイル情報を確認
- **削除**: 個別アカウントの「削除」ボタンで除去
- **全削除**: 「全て削除」ボタンで全アカウントクリア

### Step 2: データ分析開始
1. **分析開始**
   - 複数アカウント登録後、「データ分析開始」ボタンをクリック
   - データ処理が開始されます

---

## 📊 機能一覧

### ✅ 実装済み機能

#### アカウント管理
- [x] アカウント名手動入力
- [x] CSVファイルアップロード
- [x] 登録済みアカウント一覧表示
- [x] 個別アカウント削除
- [x] 全アカウント削除
- [x] ファイル選択状態表示

#### データ処理
- [x] CSV解析・パース
- [x] データ変換・正規化
- [x] 複数アカウントデータ集約
- [x] エラーハンドリング
- [x] 異常データ処理

#### UI/UX
- [x] レスポンシブデザイン
- [x] モバイル対応
- [x] 直感的な操作フロー
- [x] リアルタイム状態更新

### 🚧 実装予定機能

#### データ可視化
- [ ] 月次コスト推移グラフ（アカウント別/全体）
- [ ] サービス別コスト比較（棒グラフ）
- [ ] 前月比増減率表示
- [ ] サービス別構成比（円グラフ）

#### 分析機能
- [ ] 未使用サービス特定
- [ ] 低使用サービス検出
- [ ] 高コストサービス特定
- [ ] アカウント別削減効果比較
- [ ] 期間指定比較

#### データ概要表示
- [ ] 総コスト表示
- [ ] 対象期間表示
- [ ] 前月比変化率
- [ ] アカウント数表示

---

## 📁 対応CSVファイル形式

### 必須列
```csv
"サービス","合計コスト($)"
```

### 標準形式例
```csv
"サービス","S3($)","CloudWatch($)","Lambda($)","EC2($)","合計コスト($)"
"サービス の合計","0.1234","0.0567","0.0890","0","0.2691"
"2025-01-01","0.0200","0.0100","0.0150","0","0.0450"
"2025-02-01","0.0180","0.0120","0.0140","0","0.0440"
```

### データ要件
- **サマリー行**: 「サービス の合計」を含む行が必須
- **日付行**: YYYY-MM-DD形式の日付データ
- **数値データ**: 数値は小数点形式（文字列可）
- **サービス列**: `サービス名($)` 形式の列名

---

## 🔧 トラブルシューティング

### よくある問題

#### 1. CSVファイルが読み込めない
**症状**: ファイル選択後にエラーが表示される
**対処法**: 
- ファイル形式がCSVかつ`.csv`拡張子であることを確認
- ファイルサイズが適切であることを確認
- 必須列（「サービス」「合計コスト($)」）が存在することを確認

#### 2. アカウント名が入力できない
**症状**: アカウント名入力フィールドが無効
**対処法**:
- ページを再読み込み
- ブラウザキャッシュをクリア

#### 3. 「アカウントを追加」ボタンが押せない
**症状**: ボタンがグレーアウトしている
**対処法**:
- アカウント名が入力されていることを確認
- CSVファイルが選択されていることを確認
- 同名のアカウントが既に登録されていないか確認

#### 4. 「データ分析開始」ボタンが押せない
**症状**: ボタンがグレーアウトしている
**対処法**:
- 少なくとも1つのアカウントが登録されていることを確認
- 登録したCSVファイルが正しい形式であることを確認

### エラーメッセージ対応

#### "Invalid CSV string provided"
- ファイルが空または破損している可能性
- 別のCSVファイルを試してください

#### "Summary row not found in CSV data"
- 「サービス の合計」行が見つからない
- CSVファイルの形式を確認してください

#### "CSV must contain at least header and one data row"
- CSVファイルにデータが不足
- ヘッダー行とデータ行の両方が必要です

---

## 💡 使用のコツ

### 効率的な使い方
1. **アカウント名の統一**: 環境ごとに一貫したネーミング（dev, staging, prod）
2. **定期的なデータ更新**: 月次でCSVファイルを更新
3. **複数期間の比較**: 異なる期間のデータで複数アカウント登録

### データ準備のコツ
1. **AWSコストエクスプローラー**からCSVエクスポート
2. **サービス別**でのデータ取得推奨
3. **月次グループ化**でのデータ取得推奨

---

## 📞 サポート

### バグ報告・機能要望
GitHub Issues: https://github.com/bwsunkist/aws-simple-cost-insight/issues

### 開発状況
- **現在の実装進捗**: Phase 1完了（基盤構築・アカウント管理）
- **次期実装予定**: Phase 2（データ可視化機能）

---

## 📄 ライセンス
MIT License

---

*最終更新: 2025-07-19*
*バージョン: 1.0.0 (Phase 1)*